<launch>
    <set_parameter name="use_sim_time" value="true"/>
    <include file="$(find-pkg-share norlab_imu_tools)/launch/altitude_computation_launch.xml"/>
    <include file="$(find-pkg-share norlab_imu_tools)/launch/warthog_imu_and_wheel_odom_launch.xml"/>
    <node pkg="norlab_icp_mapper_ros" exec="mapper_node" name="mapper_node" output="screen">
        <remap from="points_in" to="/rslidar32_points_deskewed"/>
        <param name="sensor_frame" value="rslidar32"/>
        <param name="robot_frame" value="base_link"/>
        <param name="odom_frame" value="odom"/>
        <param name="icp_config" value="$(find-pkg-share warthog_mapping)/params/offline_icp_config_new_minimizer.yaml"/>
        <param name="input_filters_config" value="$(find-pkg-share warthog_mapping)/params/offline_input_filters.yaml"/>
        <param name="map_post_filters_config" value="$(find-pkg-share warthog_mapping)/params/offline_post_filters.yaml"/>
        <param name="map_update_condition" value="delay"/>
        <param name="map_update_delay" value="0.0"/>
        <param name="sensor_max_range" value="100.0"/>
        <param name="min_dist_new_point" value="0.05"/>
        <param name="compute_prob_dynamic" value="false"/>
        <param name="prior_dynamic" value="0.2" />
        <param name="threshold_dynamic" value="0.5" />
        <param name="beam_half_angle" value="0.02" />
        <param name="epsilon_a" value="0.1" />
        <param name="epsilon_d" value="0.1" />
        <param name="alpha" value="0.99" />
        <param name="beta" value="0.9" />
        <param name="is_3D" value="true" />
        <param name="map_tf_publish_rate" value="100.0" />
        <param name="is_online" value="false"/>
    </node>
</launch>
